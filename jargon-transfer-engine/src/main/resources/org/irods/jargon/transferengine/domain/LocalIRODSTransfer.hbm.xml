<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="org.irods.jargon.transferengine.domain">
	<class name="LocalIRODSTransfer" table="LOCAL_IRODS_TRANSFER">

		<id name="id" column="ID">
			<generator class="native" />
		</id>

		<property name="transferState" type="string" column="TRANSFER_STATE" />
		<property name="transferErrorStatus" type="string"
			column="TRANSFER_ERROR_STATUS" />
		<property name="globalException" type="text" column="GLOBAL_EXCEPTION" />
		
		<property name="globalExceptionStackTrace" type="string">
			<column name="GLOBAL_EXCEPTION_STACK_TRACE" length="32672" />
		</property>
		
		
		<property name="lastSuccessfulPath" type="string">
			<column name="LAST_SUCCESSFUL_PATH" length="32672" />
		</property>
		
		<property name="transferType" type="string" column="TRANSFER_TYPE" />
		<property name="transferHost" type="string" column="HOST" />
		<property name="transferPort" type="integer" column="PORT" />
		<property name="transferZone" type="string" column="ZONE" />
		<property name="transferResource" type="string" column="RESOURCE" />
		<property name="transferUserName" type="string" column="USER_NAME" />
		<property name="transferPassword" type="string" column="PASSWORD" />
		
		<property name="totalFilesCount" type="integer" column="TOTAL_FILES_COUNT" />
		<property name="totalFilesTransferredSoFar" type="integer" column="TOTAL_FILES_TRANSFERRED_SO_FAR" />
		
		<property name="transferStart" type="timestamp" column="TRANSFER_START"
			not-null="false" />
		<property name="transferEnd" type="timestamp" column="TRANSFER_END"
			not-null="false" />
		
		<property name="localAbsolutePath" type="string">
			<column name="LOCAL_ABSOLUTE_PATH" length="32672" />
		</property>
		
		<property name="irodsAbsolutePath" type="string">
			<column name="IRODS_ABSOLUTE_PATH" length="32672" />
		</property>

		<set name="localIRODSTransferItems" fetch="join" inverse="true" lazy="extra"
			cascade="all">
			<key column="LOCAL_IRODS_TRANSFER_ID" on-delete="cascade" />
			<one-to-many class="LocalIRODSTransferItem" />
		</set>

		<property name="createdAt" type="timestamp" column="CREATED_AT" />
		<property name="updatedAt" type="timestamp" column="UPDATED_AT" />
	</class>

</hibernate-mapping>